[Tests]
  issues = '#1940'
  design = 'FullSolveMultiApp.md'

  [steady]
    requirement = "The system shall be capable of executing a sub-application from a Steady executioner on "
    [exec_initial]
      type = 'Exodiff'
      input = 'master.i'
      exodiff = 'master_out.e master_out_full_solve0.e'
      recover = false

      detail = "initial and "
    []
    [exec_final]
      type = 'Exodiff'
      input = 'master.i'
      cli_args = 'MultiApps/full_solve/execute_on=final Outputs/file_base=exec_final'
      exodiff = 'exec_final.e exec_final_full_solve0.e'
      recover = false

      detail = "final."
    []
  []

  [nl_eigen]
    requirement = "The system shall be capable of executing a sub-application from a Eigenvalue executioner on "
    [exec_initial]
      type = 'Exodiff'
      input = 'master_eigen.i'
      exodiff = 'master_eigen_out.e master_eigen_out_full_solve0.e'
      recover = false

      detail = "initial and "
    []
    [exec_final]
      type = 'Exodiff'
      input = 'master_eigen.i'
      cli_args = 'MultiApps/full_solve/execute_on=final Outputs/file_base=exec_final_eigen'
      exodiff = 'exec_final_eigen.e exec_final_eigen_full_solve0.e'
      recover = false

      detail = "final."
    []
  []

  [solve_not_converge]
    requirement = "When sub-application solve does not converge, the system shall be able to either "
    [abort]
      type = RunException
      input = master.i
      cli_args = 'full_solve0:Executioner/nl_rel_tol=0
                  full_solve0:Executioner/dtmin=0.01
                  full_solve0:Executioner/nl_max_its=3'
      expect_err = 'Solve failed and timestep already at or below dtmin, cannot continue!'

      detail = "abort run or "
    []
    [continue]
      type = Exodiff
      input = master.i
      cli_args = 'MultiApps/full_solve/ignore_solve_not_converge=true
                  full_solve0:Executioner/nl_rel_tol=0
                  full_solve0:Executioner/dtmin=0.01
                  full_solve0:Executioner/nl_max_its=3
                  Outputs/file_base=master_diverge_out'
      exodiff = 'master_diverge_out.e master_diverge_out_full_solve0.e'

      detail = "continue run."
    []
  []
[]
