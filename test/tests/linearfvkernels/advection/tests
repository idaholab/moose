[Tests]
  design = 'LinearFVAdvection.md LinearFVAdvectionDiffusionOutflowBC.md'
  issues = '#25722'
  [mms-1d-upwind]
    type = MMSTest
    input = 'test.py'
    test_case = TestAdvection1DUpwind
    requirement = 'The system shall display first-order convergence for advection problems with upwind interpolation solved using a linear finite volume system on a one-dimensional domain.'
    max_threads = 1 # see libmesh issue #3808
  []
  [mms-1d-linear]
    type = MMSTest
    input = 'test.py'
    test_case = TestAdvection1DLinear
    requirement = 'The system shall display second-order convergence for advection problems with linear interpolation solved using a linear finite volume system on a one-dimensional domain.'
    max_threads = 1 # see libmesh issue #3808
  []
  [mms-2d-upwind]
    type = MMSTest
    input = 'test.py'
    test_case = TestAdvection2DUpwind
    requirement = 'The system shall display first-order convergence for advection problems with upwind interpolation solved using a linear finite volume system on a two-dimensional orthogonal mesh.'
    max_threads = 1 # see libmesh issue #3808
  []
  [mms-2d-linear]
    type = MMSTest
    input = 'test.py'
    test_case = TestAdvection2DLinear
    requirement = 'The system shall display second-order convergence for advection problems with linear interpolation solved using a linear finite volume system on a two-dimensional orthogonal mesh.'
    max_threads = 1 # see libmesh issue #3808
  []
  [mms-2d-upwind-tris]
    type = MMSTest
    input = 'test.py'
    test_case = TestAdvection2DUpwindTris
    requirement = 'The system shall display first-order convergence for advection problems with upwind interpolation solved using a linear finite volume system on a two-dimensional nonorthogonal mesh.'
    max_threads = 1 # see libmesh issue #3808
  []
  [mms-2d-linear-tris]
    type = MMSTest
    input = 'test.py'
    test_case = TestAdvection2DLinearTris
    requirement = 'The system shall display first-order convergence for advection problems with linear interpolation solved using a linear finite volume system on a two-dimensional nonorthogonal mesh.'
    # This is first order in the original implementation as well. At some point somebody could take a look at the error terms.
    max_threads = 1 # see libmesh issue #3808
  []
  [mms-2d-rz]
    type = MMSTest
    input = 'test.py'
    test_case = TestAdvection2DRZ
    requirement = 'The system shall display second-order convergence for advection problems with linear interpolation solved using a linear finite volume system on a two-dimensional orthogonal mesh in cylindrical coordinate system.'
    max_threads = 1 # see libmesh issue #3808
  []
  [diagonal-step-2d-upwind]
    type = CSVDiff
    input = diagonal-step-2d.i
    csvdiff = 'upwind_diag_sample_0001.csv'
    requirement = 'The system shall support linear finite volume advection on a two-dimensional square domain with diagonal flow and mixed inflow Dirichlet boundaries.'
    cli_args = "Outputs/file_base=upwind LinearFVKernels/advection/advected_interp_method_name=upwind"
    max_threads = 1 # see libmesh issue #3808
  []
  [diagonal-step-2d-linear]
    type = CSVDiff
    input = diagonal-step-2d.i
    csvdiff = 'average_diag_sample_0001.csv'
    requirement = 'The system shall support linear finite volume advection on a two-dimensional square domain with diagonal flow and mixed inflow Dirichlet boundaries.'
    cli_args = "Outputs/file_base=average LinearFVKernels/advection/advected_interp_method_name=average"
    max_threads = 1 # see libmesh issue #3808
  []
  [diagonal-step-2d-venkat-deferred]
    type = CSVDiff
    input = diagonal-step-2d.i
    csvdiff = 'diagonal-step-2d_out_diag_sample_0001.csv'
    requirement = 'The system shall support linear finite volume advection on a two-dimensional square domain with diagonal flow and mixed inflow Dirichlet boundaries.'
    cli_args = "LinearFVKernels/advection/advected_interp_method_name=muscl_venkat Convergence/linear/max_iterations=100"
    max_threads = 1 # see libmesh issue #3808
  []
  [diagonal-step-2d-vanleer]
    type = CSVDiff
    input = diagonal-step-2d.i
    csvdiff = 'vanleer_diag_sample_0001.csv'
    requirement = 'The system shall support linear finite volume advection on a two-dimensional square domain with diagonal flow and mixed inflow Dirichlet boundaries.'
    mesh_mode = REPLICATED # line sampling is sensitive to distributed partitioning
    cli_args = "Outputs/file_base=vanleer LinearFVKernels/advection/advected_interp_method_name=nvd_vanleer"
    max_threads = 1 # see libmesh issue #3808
  []
  [diagonal-step-2d-minmod]
    type = CSVDiff
    input = diagonal-step-2d.i
    csvdiff = 'minmod_diag_sample_0001.csv'
    requirement = 'The system shall support linear finite volume advection on a two-dimensional square domain with diagonal flow and mixed inflow Dirichlet boundaries.'
    cli_args = "Outputs/file_base=minmod LinearFVKernels/advection/advected_interp_method_name=nvd_minmod"
    max_threads = 1 # see libmesh issue #3808
  []
[]
