[Tests]
  issues = '#30850'
  design = 'NEML2/index.md NEML2Action.md'

  [explicit_dynamics]
    type = Exodiff
    requirement = 'The system shall be capable of interfacing with the NEML2 library to perform explicit dynamics simulations.'
    input = 'neml2.i'
    exodiff = 'neml2_exodus.e'
    capabilities = 'neml2'
    compute_devices = 'cpu cuda'
    valgrind = heavy
    restep = false # ExplicitMixedOrder cannot handle repeating a timestep
  []
  [explicit_dynamics_validation]
    type = Exodiff
    requirement = 'The NEML2 based explicit dynamics simulation results shall match those of an equivalent MOOSE simulation.'
    input = 'moose.i'
    exodiff = 'moose_exodus.e'
    valgrind = heavy
    restep = false # ExplicitMixedOrder cannot handle repeating a timestep
  []

  [explicit_dynamics_adaptivity]
    type = Exodiff
    requirement = 'The system shall be capable of interfacing with the NEML2 library to perform explicit dynamics simulations when using mesh adaptivity.'
    input = 'neml2_adaptivity.i'
    exodiff = 'neml2_adaptivity_exodus.e neml2_adaptivity_exodus.e-s002'
    capabilities = 'neml2'
    compute_devices = 'cpu cuda'
    valgrind = heavy
    restep = false # ExplicitMixedOrder cannot handle repeating a timestep
  []
  [explicit_dynamics_validation_adaptivity]
    type = Exodiff
    requirement = 'The NEML2 based explicit dynamics simulation results shall match those of an equivalent MOOSE simulation when using mesh adaptivity.'
    capabilities = 'neml2'
    input = 'moose_adaptivity.i'
    exodiff = 'moose_adaptivity_exodus.e moose_adaptivity_exodus.e-s002'
    valgrind = heavy
    restep = false # ExplicitMixedOrder cannot handle repeating a timestep
  []
[]
