# Frequently Used Reactor Geometries and Corresponding Mesh Generators

!---

This section lists frequently used hexagonal-based geometries for reactor cores and their associated mesh generator objects. All the following are considered "base" mesh generators which expose all input options including control of block (subdomain) numbering. While sidesets can also be numbered, the outer boundary sideset is automatically assigned to sideset 10000.

A second set of mesh generators (Reactor Geometry Mesh Builder mesh generators) is available for regular hexagonal and Cartesian geometry and provides a reduced set of input options, removes any mention of block (subdomain) numbering, and instead allows the user to specify materials directly on the mesh. These are covered in another [Chapter](step10_rgmb.md).

!---

## Pin Cell

!row!
!col small=12 medium=6 large=4

- [PolygonConcentricCircleMeshGenerator.md]

- The pin cell size may be provided as the apothem (center-to-flat distance which is the pin "half-pitch") or radius (center-to-vertex distance) depending on the setting in [!param](/Mesh/PolygonConcentricCircleMeshGenerator/polygon_size_style)
- 2D Cartesian or hex pin cell, including fuel, clad, coolant and (optional) ducted regions
- Permits either quadrilateral or triangular elements in the pin center region (quad fuel and tri fuel regions must have different block IDs)
- Fuel area preservation using the [!param](/Mesh/PolygonConcentricCircleMeshGenerator/preserve_volumes) parameter
- Different azimuthal discretization possible per pin cell face

!col small=12 medium=6 large=8

!listing base_mesh_generators/common_geo.i
         block=Mesh/hex_1
         link=False

!media tutorial04_meshing/base_ex_pccmg.png

!row-end!

!---

## Assembly (Homogenized)

- [SimpleHexagonGenerator.md]

- 2D Hexagonal unit pin cell with coarse mesh discretization

- Three modes are available to discretize the hexagon:

  - +TRI+: 6 triangles (default)
  - +QUAD+: 2 quadrilateral elements
  - +HYBRID+: 6 triangles + 6 \* number of layers of quadrilateral elements

!row!
!col small=12 medium=6 large=8

!listing base_mesh_generators/common_geo.i
         block=Mesh/hex_simple
         link=False

!col small=12 medium=6 large=4

!media tutorial04_meshing/base_ex_shg.png
       style=width:100%;display:block;margin-left:auto;margin-right:auto;

!row-end!

!---

## Assembly (with multiple heterogeneous pins)

!row!
!col small=12 medium=6 large=4

- [PatternedHexMeshGenerator.md]
- (Cartesian sibling -- [PatternedCartesianMeshGenerator.md])

- 2D Regular assembly with uniform pin pitch
- Optional background and duct regions

- When generating an assembly mesh using [PatternedHexMeshGenerator.md], be sure to set [!param](/Mesh/PatternedHexMeshGenerator/generate_core_metadata) as `false`
- Input will be automatically rotated 90 degrees CCW unless specified with [!param](/Mesh/PatternedHexMeshGenerator/rotate_angle)
- !media tutorial04_meshing/base_ex_phmg_assm.png
       style=width:50%;display:block;margin-left:auto;margin-right:auto;

!col small=12 medium=6 large=8

!listing base_mesh_generators/common_geo.i
         block=Mesh/pattern_assm
         link=False
!row-end!


!---

## Assembly (control drum, duct-heterogeneous, or single pin)

!row!
!col small=12 medium=6 large=8

- [HexagonConcentricCircleAdaptiveBoundaryMeshGenerator.md]
- (Cartesian sibling -- [CartesianConcentricCircleAdaptiveBoundaryMeshGenerator.md])

- Hexagonal mesh with assembly metadata
- Can optionally match other assembly meshes' external boundary to enable stitching to generate core meshes.

- It can be used without specifying [!param](/Mesh/HexagonConcentricCircleAdaptiveBoundaryMeshGenerator/sides_to_adapt) and [!param](/Mesh/HexagonConcentricCircleAdaptiveBoundaryMeshGenerator/meshes_to_adapt_to) to generate [PolygonConcentricCircleMeshGenerator.md] -style hexagonal mesh with assembly mesh metadata

!col small=12 medium=6 large=4

!media tutorial04_meshing/base_ex_hccabmg.png
       style=width:100%;display:block;margin-left:auto;margin-right:auto;

!row-end!

!listing base_mesh_generators/common_geo.i
         block=Mesh/adaptive_assm
         link=False

!---

## Core

- [PatternedHexMeshGenerator.md]
- (Cartesian sibling -- [PatternedCartesianMeshGenerator.md])

- 2D regular assembly pattern with uniform assembly pitch

- Assembly meshes generated by [PatternedHexMeshGenerator.md], [HexagonConcentricCircleAdaptiveBoundaryMeshGenerator.md] and [SimpleHexagonGenerator.md] can be used as inputs
- Core mesh generation should include the parameter [!param](/Mesh/PatternedHexMeshGenerator/generate_core_metadata) as `true`.
- The pattern will be automatically rotated 90 degrees CCW unless specified with [!param](/Mesh/PatternedHexMeshGenerator/rotate_angle)

!row!
!col small=12 medium=6 large=8

!listing base_mesh_generators/common_geo.i
         block=Mesh/pattern_core
         link=False

!col small=12 medium=6 large=4

!media tutorial04_meshing/base_ex_phmg_core.png
       style=width:50%;display:block;margin-left:auto;margin-right:auto;

!row-end!

!---

## Core Periphery (PRMG)

!row!
!col small=12 medium=6 large=8

- [PeripheralRingMeshGenerator.md] (abbreviated as PRMG)

- Adds circular peripheral region to a reactor core mesh
- [PeripheralRingMeshGenerator.md] has a boundary layer capability

- [PeripheralRingMeshGenerator.md] generates a structured peripheral mesh with +QUAD4+ elements

!col small=12 medium=6 large=4

!media tutorial04_meshing/base_ex_prmg.png
       style=width:60%;display:block;margin-left:auto;margin-right:auto;

!row-end!

!listing base_mesh_generators/common_geo.i
         block=Mesh/pr
         link=False

!---

## Core Periphery (PTMG)

!row!
!col small=12 medium=6 large=8

- [PeripheralTriangleMeshGenerator.md] (abbreviated as PTMG)

- Adds circular peripheral region to a reactor core mesh

- [PeripheralTriangleMeshGenerator.md] generates an unstructured peripheral mesh with +TRI3+ elements

- Automatic element area refinement is available

!col small=12 medium=6 large=4

!media tutorial04_meshing/base_ex_ptmg.png
       style=width:60%;display:block;margin-left:auto;margin-right:auto;

!row-end!

!listing base_mesh_generators/common_geo.i
         block=Mesh/pt
         link=False
