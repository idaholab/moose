# NEML2BatchIndexGenerator

!if! function=hasCapability('neml2')

!syntax description /UserObjects/NEML2BatchIndexGenerator

!alert note
Users are +NOT+ expected to directly use this object in an input file. Instead, it is always recommended to use the [NEML2 action](syntax/NEML2/index.md).

## Description

This element user object generates the map from element ID to the offset of batch index. The intervals between the batch index offsets associated with each element are determined by the number of quadrature points on each element. For example, if this element user object operates on a subdomain with 3 QUAD4 elements with the default quadrature (i.e., 4 quadrature points per element), the generated map will have three entries:

```
0 -> 0
1 -> 4
2 -> 8
```

assuming the element IDs are 0, 1, and 2.

The batch index associated with each quadrature point can then be calculated as

\begin{equation}
  I = M(E) + Q
\end{equation}

where $I$ is the batch index, $M$ is the index map generated by this user object, $E$ is the element ID, and $Q$ is the local quadrature point index.

!syntax parameters /UserObjects/NEML2BatchIndexGenerator

!if-end!

!else

!include neml2/neml2_warning.md
